<div [ngClass]="{ 'disabled-container': loading }" class="container">
    <div *ngIf="loading" class="loading">
        <mat-progress-spinner color="primary" mode="indeterminate"> </mat-progress-spinner>
    </div>
    <table mat-table class="responsive" [dataSource]="relationshipsTableData" *ngIf="!loading" style="overflow-x: auto !important">
        <ng-container matColumnDef="peer">
            <th mat-header-cell *matHeaderCellDef>Peer</th>
            <td mat-cell *matCellDef="let Relationship" data-label="Peer:">
                {{ Relationship.peer }}
            </td>
        </ng-container>
        <ng-container matColumnDef="requestedBy">
            <th mat-header-cell *matHeaderCellDef>Requested By</th>
            <td mat-cell *matCellDef="let Relationship" data-label="Requested By:">
                {{ Relationship.requestedBy }}
            </td>
        </ng-container>
        <ng-container matColumnDef="templateId">
            <th mat-header-cell *matHeaderCellDef>Template ID</th>
            <td mat-cell *matCellDef="let Relationship" data-label="Template ID:">
                {{ Relationship.templateId }}
            </td>
        </ng-container>
        <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef>Status</th>
            <td mat-cell *matCellDef="let Relationship" data-label="Status:">
                {{ Relationship.status }}
            </td>
        </ng-container>
        <ng-container matColumnDef="creationDate">
            <th mat-header-cell *matHeaderCellDef>Creation Date</th>
            <td mat-cell *matCellDef="let Relationship" data-label="Creation Date:">
                {{ Relationship.creationDate | date }}
            </td>
        </ng-container>
        <ng-container matColumnDef="answeredAt">
            <th mat-header-cell *matHeaderCellDef>Answered At</th>
            <td mat-cell *matCellDef="let Relationship" data-label="Answered At:">
                {{ Relationship.answeredAt | date }}
            </td>
        </ng-container>
        <ng-container matColumnDef="createdByDevice">
            <th mat-header-cell *matHeaderCellDef>Created by Device</th>
            <td mat-cell *matCellDef="let Relationship" data-label="Created by Device:">
                {{ Relationship.createdByDevice }}
            </td>
        </ng-container>
        <ng-container matColumnDef="answeredByDevice">
            <th mat-header-cell *matHeaderCellDef>Answered by Device</th>
            <td mat-cell *matCellDef="let Relationship" data-label="Answered by Device:">
                {{ Relationship.answeredByDevice }}
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="relationshipsTableDisplayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: relationshipsTableDisplayedColumns"></tr>

        <tr class="mat-row" *matNoDataRow>
            <td class="mat-cell no-data" [attr.colspan]="relationshipsTableDisplayedColumns.length">No relationships found.</td>
        </tr>
    </table>
</div>
<mat-paginator
    *ngIf="!loading"
    (page)="relationshipsPageChangeEvent($event)"
    [length]="relationshipsTotalRecords"
    [pageSize]="relationshipsPageSize"
    [pageIndex]="relationshipsPageIndex"
    [pageSizeOptions]="[5, 10, 25, 100]"
    showFirstLastButtons
    aria-label="Select page of relationships">
</mat-paginator>
